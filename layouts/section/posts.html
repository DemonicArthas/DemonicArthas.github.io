{{ define "main" }}
  <article class="prose max-w-full bg-base-200 p-4 lg:prose-lg">
    {{ .Content }}

    {{ $pages := where site.RegularPages "Section" "posts" }}
    {{ $paginator := .Paginate $pages 10 }}

    <ul class="not-prose list bg-base-100 rounded-box shadow-md">
      {{ range $paginator.Pages }}
        <a href="{{ .RelPermalink }}">
          <li class="list-row">
            {{ with .Resources.GetMatch "preview" }}
              <div><img class="size-10 rounded-box" src="{{ .RelPermalink }}"/></div>
            {{ end }}
            <div>
              {{ if .Date }}
                <div class="text-xs">{{ .Date |  time.Format ":date_full" }}</div>
              {{ end }}
              <div class="uppercase font-semibold opacity-60">{{ .Title }}</div>
            </div>
            <p class="list-col-wrap text-sm">{{ .Plain | strings.Truncate 256 }}</p>
          </li>
        </a>
      {{ end }}
    </ul>
    
    <div class="no-prose mt-4 justify-center flex">
      {{ partial "pagination.html" . }}
    </div>
  </article>
{{ end }}
